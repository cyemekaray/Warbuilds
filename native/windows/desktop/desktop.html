<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../css/general.css" />
    <link rel="stylesheet" href="../../css/header.css" />
    <link rel="stylesheet" href="../../css/desktop.css" />
    <link rel="stylesheet" href="../../css/modal.css" />
    <title>Cy's Warbuilds</title>
  </head>
  <body class="desktop">
    <!-- -------------------------------- Header ------------------------------- -->

    <header class="app-header">
      <img src="../../img/header_icon.png" />
      <h1>Cy's Warbuilds | Desktop Window</h1>
      <div class="window-controls-group">
        <button class="icon window-control support">
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_support" />
          </svg>
          <div class="tooltip">
            <a href="" id="feedbacklink">Bug Reports + Feedback</a>
          </div>
        </button>
        <a class="icon window-control" href="overwolf://settings/hotkeys">
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_settings" />
          </svg>
        </a>
        <button class="icon window-control" id="minimizeButton">
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_minimize" />
          </svg>
        </button>
        <button class="icon window-control window-control-close" id="closeButton">
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_close" />
          </svg>
        </button>
      </div>
    </header>

    <!-- --------------------------------- Main -------------------------------- -->
    <main>
      <div class="desktopTop">
        <br />
        <br />
        <br />
        <img
          src="/img/WarbuildsDesktopBannerLogo.png"
          align="left"
          style="display:block; margin-top:-20px; margin-left:10px;"
        />
        <div id="version"></div>
      </div>
      <div class="desktopBottom">
        <!-- Launch Warcraft III! -->
        <div id="left">
          <h1>
            <p><b>Start Warcraft III and Warbuilds will automatically appear in-game!</b></p>
            <p>
              Choose your favorite build from the list in-game. Your build order will stay on screen during your game,
              giving you timers and alerts to help you stay on the path.
            </p>
            <p>Builds are created by top players and vetted by our review team to guarantee the best quality. GLHF!</p>
          </h1>
        </div>
        <!-- tutorial video -->
        <div id="right">
          <div style="text-align: center">
            <div style="display: inline-block">
              <iframe
                width="560"
                height="315"
                src="https://www.youtube.com/embed/ixzFI_aQQhU"
                frameborder="0"
                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- -------------------------------- Modal -------------------------------- -->
    <div id="exitMinimizeModal" class="modal">
      <div class="modal-content">
        <h3>Exit the app?</h3>
        <p>
          Exiting the app will close all the app windows and terminate the app process.<br />
          <br />
          Are you sure?
        </p>
        <span class="buttonBar">
          <button id="minimize" class="modalButton">
            Minimize
          </button>
          <button id="exit" class="modalButton">
            Exit
          </button>
        </span>
      </div>
    </div>

    <script src="../../lib/require.js"></script>
    <script>
      require(['desktop-controller'], function(DesktopController) {
        console.log(`[INIT] desktop module loaded`)
        const desktopCntroller = new DesktopController()
        desktopCntroller.run()
      }, function(error) {
        console.log(`[INIT] failed to load desktop module ${error}`)
      })
    </script>
    <script>
      document.getElementById('feedbacklink').onclick = function() {
        overwolf.utils.openUrlInDefaultBrowser('https://github.com/liquid-cy/Warbuilds/issues')
      }
    </script>
   
  </body>
</html>
